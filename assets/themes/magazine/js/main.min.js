jQuery.event.special.touchstart={setup:function(a,c,b){this.addEventListener("touchstart",b,{passive:!c.includes("noPreventDefault")})}};jQuery.event.special.touchmove={setup:function(a,c,b){this.addEventListener("touchmove",b,{passive:!c.includes("noPreventDefault")})}};(function(){var a=document.querySelectorAll(".needs-validation");Array.prototype.slice.call(a).forEach(function(b){b.addEventListener("submit",function(c){if(!b.checkValidity()){c.preventDefault();c.stopPropagation()}b.classList.add("was-validated")},false)})})();var tooltipTriggerList=[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));var tooltipList=tooltipTriggerList.map(function(a){return new bootstrap.Tooltip(a)});$("form").submit(function(){$("input[name='"+VrConfig.csrfTokenName+"']").val(getCsrfHash())});function getCsrfHash(){var f=VrConfig.csrfCookieName+"=";var d=decodeURIComponent(document.cookie);var b=d.split(";");for(var e=0;e<b.length;e++){var a=b[e];while(a.charAt(0)==" "){a=a.substring(1)}if(a.indexOf(f)==0){return a.substring(f.length,a.length)}}return""}function addCsrf(a){a[VrConfig.csrfTokenName]=getCsrfHash();a.sys_lang_id=VrConfig.sysLangId}function addCsrfSerialized(a){a.push({name:VrConfig.csrfTokenName,value:getCsrfHash()});a.push({name:"sys_lang_id",value:VrConfig.sysLangId})}document.addEventListener("lazybeforeunveil",function(b){var a=b.target.getAttribute("data-bg");if(a){b.target.style.backgroundImage="url("+a+")"}});$(document).on("click",".mobile-menu-button",function(){if($("#navMobile").hasClass("nav-mobile-open")){$("#navMobile").removeClass("nav-mobile-open");$("#overlay_bg").hide()}else{$("#navMobile").addClass("nav-mobile-open");$("#overlay_bg").show()}});$(document).on("click","#overlay_bg",function(){$("#navMobile").removeClass("nav-mobile-open");$("#overlay_bg").hide()});$(".close-menu-click").click(function(){$("#navMobile").removeClass("nav-mobile-open");$("#overlay_bg").hide()});$(document).ready(function(){$("form.needs-validation").attr("novalidate","novalidate");$(".show-on-page-load").css("visibility","visible");$(".nav-main .nav-item-category").hover(function(){var c=$(this).attr("data-category-id");$(".mega-menu").css("display","none");$(".mega-menu .link-sub-category").removeClass("active");$(".mega-menu .menu-category-items").removeClass("active");$(".mega-menu .link-sub-category-all").addClass("active");$(".mega-menu .menu-right .filter-all").addClass("active");$(".mega-menu-"+c).css("display","flex")},function(){$(".mega-menu").css("display","none")});$(".mega-menu").hover(function(){$(this).css("display","flex");var c=$(this).attr("data-category-id");$(".nav-main .nav-item-category-"+c).addClass("active")},function(){$(".mega-menu").css("display","none");$(".nav-main .nav-item-category").removeClass("active")});$(".mega-menu .link-sub-category").hover(function(){var c=$(this).attr("data-category-filter");$(".mega-menu .link-sub-category").removeClass("active");$(this).addClass("active");$(".mega-menu .menu-category-items").removeClass("active");$(".mega-menu .menu-right .filter-"+c).addClass("active")},function(){});$(".mobile-search-button").click(function(){$(".mobile-search-form").slideToggle(300)});$("#main-slider").slick({autoplay:true,autoplaySpeed:4900,slidesToShow:1,slidesToScroll:1,infinite:true,speed:200,rtl:VrConfig.rtl,swipeToSlide:true,cssEase:"linear",lazyLoad:"progressive",prevArrow:$("#main-slider-nav .prev"),nextArrow:$("#main-slider-nav .next"),});$("#post-detail-slider").slick({autoplay:false,autoplaySpeed:4900,slidesToShow:1,slidesToScroll:1,infinite:false,speed:200,rtl:VrConfig.rtl,adaptiveHeight:true,lazyLoad:"progressive",prevArrow:$("#post-detail-slider-nav .prev"),nextArrow:$("#post-detail-slider-nav .next"),});$(".newsticker li").delay(500).fadeIn(100);$(".newsticker").newsTicker({row_height:30,max_rows:1,speed:400,direction:"up",duration:4000,autostart:1,pauseOnHover:0,prevButton:$("#nav_newsticker .prev"),nextButton:$("#nav_newsticker .next")});if(VrConfig.categorySliderIds.length>0){for(var a=0;a<VrConfig.categorySliderIds.length;a++){var b=VrConfig.categorySliderIds[a];$("#category_slider_"+b).slick({autoplay:true,autoplaySpeed:4900,infinite:true,speed:200,swipeToSlide:true,rtl:VrConfig.rtl,cssEase:"linear",prevArrow:$("#category_slider_nav_"+b+" .prev"),nextArrow:$("#category_slider_nav_"+b+" .next"),slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:576,settings:{slidesToShow:1,slidesToScroll:1}}]})}}$(window).scroll(function(){if($(this).scrollTop()>100){$(".scrollup").fadeIn()}else{$(".scrollup").fadeOut()}});$(".scrollup").click(function(){$("html, body").animate({scrollTop:0},700);return false})});$(".search-icon").click(function(){if($(".search-form").hasClass("open")){$(".search-form").removeClass("open")}else{$(".search-form").addClass("open")}});$(document).ready(function(){$("#form-login").submit(function(a){a.preventDefault();var b=$(this);var c=b.serializeArray();addCsrfSerialized(c);$.ajax({url:VrConfig.baseURL+"/AuthController/loginPost",type:"POST",data:c,success:function(e){var d=JSON.parse(e);if(d.result==1){location.reload()}else{if(d.result==0){document.getElementById("result-login").innerHTML=d.error_message}}}})});$(".form-newsletter").submit(function(b){b.preventDefault();var c=$(this).attr("id");var d="#"+c+" .newsletter-input";var a=$(d).val().trim();if(a==""){$(d).addClass("has-error");return false}else{$(d).removeClass("has-error")}var e=$(this).serializeArray();addCsrfSerialized(e);$.ajax({type:"POST",url:VrConfig.baseURL+"/add-newsletter-post",data:e,success:function(g){var f=JSON.parse(g);if(f.result==1){if(c=="form_newsletter_footer"){document.getElementById("form_newsletter_response").innerHTML=f.htmlContent}else{document.getElementById("modal_newsletter_response").innerHTML=f.htmlContent}if(f.isSuccess==1){$(d).val("")}}}})})});function loadMorePosts(){$(".btn-load-more").prop("disabled",true);$(".btn-load-more svg").hide();$(".btn-load-more .spinner-load-more").show();var a={limit:parseInt($("#limit_load_more_posts").text()),view:"_post_item"};addCsrf(a);$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/loadMorePosts",data:a,success:function(c){var b=JSON.parse(c);if(b.result==1){setTimeout(function(){$("#last_posts_content").append(b.htmlContent);$("#limit_load_more_posts").text(b.newLimit);$(".btn-load-more").prop("disabled",false);$(".btn-load-more svg").show();$(".btn-load-more .spinner-load-more").hide();if(b.hideButton){$(".btn-load-more").hide()}},300)}else{setTimeout(function(){$(".btn-load-more").hide();$(".btn-load-more svg").show();$(".btn-load-more .spinner-load-more").hide()},300)}}})}function viewPollResults(b){$("#poll_"+b+" .question").hide();$("#poll_"+b+" .result").show()}function viewPollOptions(b){$("#poll_"+b+" .result").hide();$("#poll_"+b+" .question").show()}function addReaction(b,c){var a={post_id:b,reaction:c};addCsrf(a);$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/addReaction",data:a,success:function(e){var d=JSON.parse(e);if(d.result==1){document.getElementById("reactions_result").innerHTML=d.htmlContent}}})}$(document).ready(function(){$(".poll-form").submit(function(a){a.preventDefault();var c=$(this).attr("data-form-id");var b=$(this);var d=b.serializeArray();addCsrfSerialized(d);$.ajax({url:VrConfig.baseURL+"/AjaxController/addPollVote",type:"POST",data:d,success:function(f){var e=JSON.parse(f);if(e.result==1){if(e.htmlContent=="required"){$("#poll-required-message-"+c).show();$("#poll-error-message-"+c).hide()}else{if(e.htmlContent=="voted"){$("#poll-required-message-"+c).hide();$("#poll-error-message-"+c).show()}else{document.getElementById("poll-results-"+c).innerHTML=e.htmlContent;$("#poll_"+c+" .result").show();$("#poll_"+c+" .question").hide()}}}}})});$("#add_comment").submit(function(b){b.preventDefault();var c=$(this).serializeArray();var a={};var d=true;$(c).each(function(f,e){if($.trim(e.value).length<1){$("#add_comment [name='"+e.name+"']").addClass("is-invalid");d=false}else{$("#add_comment [name='"+e.name+"']").removeClass("is-invalid");a[e.name]=e.value}});a.limit=$("#post_comment_limit").val();addCsrf(a);if(VrConfig.isRecaptchaEnabled==true){if(typeof a["g-recaptcha-response"]==="undefined"){$(".g-recaptcha").addClass("is-recaptcha-invalid");d=false}else{$(".g-recaptcha").removeClass("is-recaptcha-invalid")}}if(d==true){$(".g-recaptcha").removeClass("is-recaptcha-invalid");$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/addCommentPost",data:a,success:function(f){var e=JSON.parse(f);if(e.type=="message"){document.getElementById("message-comment-result").innerHTML=e.htmlContent}else{document.getElementById("comment-result").innerHTML=e.htmlContent}if(VrConfig.isRecaptchaEnabled==true){grecaptcha.reset()}$("#add_comment")[0].reset()}})}});$("#add_comment_registered").submit(function(b){b.preventDefault();var c=$(this).serializeArray();var a={limit:$("#post_comment_limit").val()};var d=true;$(c).each(function(f,e){if($.trim(e.value).length<1){$("#add_comment_registered [name='"+e.name+"']").addClass("is-invalid");d=false}else{$("#add_comment_registered [name='"+e.name+"']").removeClass("is-invalid");a[e.name]=e.value}});a.limit=$("#post_comment_limit").val();addCsrf(a);if(d==true){$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/addCommentPost",data:a,success:function(f){var e=JSON.parse(f);if(e.type=="message"){document.getElementById("message-comment-result").innerHTML=e.htmlContent}else{document.getElementById("comment-result").innerHTML=e.htmlContent}$("#add_comment_registered")[0].reset()}})}})});$(document).on("click",".btn-subcomment",function(){var a=$(this).attr("data-comment-id");var b={};addCsrf(b);b.limit=$("#post_comment_limit").val();var c="#add_subcomment_"+a;$(c).ajaxSubmit({beforeSubmit:function(){var d=$("#add_subcomment_"+a).serializeArray();var e=true;$(d).each(function(g,f){if($.trim(f.value).length<1){$(c+" [name='"+f.name+"']").addClass("is-invalid");e=false}else{$(c+" [name='"+f.name+"']").removeClass("is-invalid");b[f.name]=f.value}});if(VrConfig.isRecaptchaEnabled==true){if(typeof b["g-recaptcha-response"]==="undefined"){$(c+" .g-recaptcha").addClass("is-recaptcha-invalid");e=false}else{$(c+" .g-recaptcha").removeClass("is-recaptcha-invalid")}}if(e==false){return false}},type:"POST",url:VrConfig.baseURL+"/AjaxController/addCommentPost",data:b,success:function(e){if(VrConfig.isRecaptchaEnabled==true){grecaptcha.reset()}var d=JSON.parse(e);if(d.type=="message"){document.getElementById("message-subcomment-result-"+a).innerHTML=d.htmlContent}else{document.getElementById("comment-result").innerHTML=d.htmlContent}$(".visible-sub-comment form").empty()}})});$(document).on("click",".btn-subcomment-registered",function(){var a=$(this).attr("data-comment-id");var b={};addCsrf(b);$("#add_subcomment_registered_"+a).ajaxSubmit({beforeSubmit:function(){var d=$("#add_subcomment_registered_"+a).serializeArray();var c=$.trim(d[0].value);if(c.length<1){$(".form-comment-text").addClass("is-invalid");return false}else{$(".form-comment-text").removeClass("is-invalid")}},type:"POST",url:VrConfig.baseURL+"/AjaxController/addCommentPost",data:b,success:function(d){var c=JSON.parse(d);if(c.type=="message"){document.getElementById("message-subcomment-result-"+a).innerHTML=c.htmlContent}else{document.getElementById("comment-result").innerHTML=c.htmlContent}$(".visible-sub-comment form").empty()}})});$(document).on("click",".comment-meta .btn-reply",function(){$(".comment-meta .btn-reply").prop("disabled",true);var a=$(this).attr("data-parent");if($("#sub_comment_form_"+a).html().length>0){$("#sub_comment_form_"+a).empty();$(".comment-meta .btn-reply").prop("disabled",false)}else{$(".visible-sub-comment").empty();var c=parseInt($("#post_comment_limit").val());var b={comment_id:a,limit:c};addCsrf(b);$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/loadSubcommentBox",data:b,success:function(e){var d=JSON.parse(e);if(d.result==1){$("#sub_comment_form_"+a).append(d.htmlContent)}$(".comment-meta .btn-reply").prop("disabled",false)}})}});$(document).on("click",".btn-comment-like",function(){if($(this).hasClass("comment-liked")){$(this).removeClass("comment-liked")}else{$(this).addClass("comment-liked")}var a=$(this).attr("data-comment-id");var b={comment_id:a};addCsrf(b);$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/likeCommentPost",data:b,success:function(d){var c=JSON.parse(d);if(c.result==1){document.getElementById("lbl_comment_like_count_"+a).innerHTML=c.likeCount}}})});function loadMoreComments(c){var b=parseInt($("#post_comment_limit").val());var a={post_id:c,limit:b};addCsrf(a);$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/loadMoreComments",data:a,success:function(e){var d=JSON.parse(e);if(d.result==1){setTimeout(function(){$("#post_comment_limit").val(b+5);document.getElementById("comment-result").innerHTML=d.htmlContent},500)}}})}function addRemoveReadingListItem(b){$(".tooltip").hide();var a={post_id:b,};addCsrf(a);$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/addRemoveReadingListItem",data:a,success:function(c){location.reload()}})}$(document).on("click",".btn-load-more",function(){$(".btn-load-more svg").hide();$(".btn-load-more .spinner-load-more").show()});function deleteComment(a,c,b){swal({text:b,icon:"warning",buttons:[VrConfig.textCancel,VrConfig.textOk],dangerMode:true,}).then(function(f){if(f){var e=parseInt($("#post_comment_limit").val());var d={id:a,post_id:c,limit:e};addCsrf(d);$.ajax({type:"POST",url:VrConfig.baseURL+"/AjaxController/deleteCommentPost",data:d,success:function(h){var g=JSON.parse(h);if(g.result==1){document.getElementById("comment-result").innerHTML=g.htmlContent}}})}})}function closeCookiesWarning(){$(".cookies-warning").hide();var a={};addCsrf(a);$.ajax({type:"POST",url:VrConfig.baseURL+"/close-cookies-warning-post",data:a,success:function(b){}})}function showImagePreview(b,d){var a=$(b).attr("data-img-id");if(b.files&&b.files[0]){var c=new FileReader();c.onload=function(f){if(d){$("#"+a).css("background-image","url("+f.target.result+")")}else{$("#"+a).attr("src",f.target.result)}};c.readAsDataURL(b.files[0])}}$("#print_post").on("click",function(){$(".post-content .post-title, .post-content .post-image, .post-content .post-text").printThis({importCSS:true,})});$(document).ajaxStop(function(){function d(a){$("#poll_"+a+" .question").hide();$("#poll_"+a+" .result").show()}function c(a){$("#poll_"+a+" .result").hide();$("#poll_"+a+" .question").show()}});